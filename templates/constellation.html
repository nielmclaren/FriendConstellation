{% extends "base.html" %}

{% block content %}

	<div id="fb-root"></div>
	<div id="constellation"></div>
	<script type="text/javascript">
		var config = {
					 id: 'constellation',
					 graphLoaderClass: SimpleGraphLoader,
					 graphLoader: {
									 url: '/chart/{{chart.id}}/data'
					 },
					 graphParserClass: CustomGraphParser,
					 graphViewClass: DirectGraphView,
					 layoutClass: StaticLayout
		};
		var styles = [
					 ['node', {
									 rendererClass: CustomNodeRenderer
					 }],
					 ['edge', {
									 rendererClass: DefaultEdgeRenderer
					 }]
		];

		var constellation = new Constellation(config, styles);
		$(constellation).bind('log', function(event, severity, message) {
			var args = Array.prototype.slice.call(arguments, 2);
			switch (severity) {
				case 'debug':
					//window.console.debug.apply(window.console, args);
					break;
				case 'warn':
					window.console.warn.apply(window.console, args);
					break;
				case 'error':
					window.console.error.apply(window.console, args);
					break;
			}
		});

		constellation.init();
	</script>

{% endblock %}
